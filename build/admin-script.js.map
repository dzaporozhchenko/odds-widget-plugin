{"version":3,"file":"admin-script.js","mappings":"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","sources":["webpack://src/./src/admin-script.js"],"sourcesContent":["(function( $ ) {\r\n\t$('#group').on('change', function() {\r\n\t\t$('#empty_group_option').remove()\r\n\t\tconst group = $('#group').find(\":selected\").text()\r\n\t\tlet newSports = data.all_sports.filter(s => s.group === group);\r\n\r\n\t\tconst sportElement = $('#sport_key')\r\n\t\tsportElement.empty()\r\n\t\tsportElement.prop( \"disabled\", false )\r\n\t\tsportElement.append($('<option id=\"empty-sport-option\"></option>'))\r\n\t\t$.each(newSports, function(key,sport) {\r\n\t\t\tsportElement.append($(\"<option></option>\").attr(\"value\", sport.key).text(sport.title));\r\n\t\t});\r\n\r\n\t\tconst gameElement = $('#game_id')\r\n\t\tgameElement.empty()\r\n\t\tgameElement.prop( \"disabled\", true )\r\n\t\tgameElement.append($('<option id=\"empty-game-option\"></option>'))\r\n\r\n\t\t$('#bookmakers-table-body').empty()\r\n\t});\r\n\r\n\t$('#sport_key').on('change', function() {\r\n\t\t$('#empty-sport-option').remove()\r\n\t\tconst sportKey = $('#sport_key').val()\r\n\t\tconst sport = data.all_sports.find(s => s.key === sportKey)\r\n\t\t$('#sport_key_description').empty().text(sport.description)\r\n\r\n\t\tlet newGames = wp.apiFetch({path: wp.url.addQueryArgs('/odds-widget/odds', {sport: sportKey})}).then((newGames) => {\r\n\t\t\tdata.all_odds = newGames.reduce((acc, curr) => (acc[curr.id] = curr,acc), {});\r\n\t\t\tconst gameElement = $('#game_id')\r\n\t\t\tgameElement.empty()\r\n\t\t\tgameElement.prop( \"disabled\", false )\r\n\t\t\tgameElement.append($('<option id=\"empty-game-option\"></option>'))\r\n\t\t\t$.each(newGames, function(key,game) {\r\n\t\t\t\tgameElement.append(\r\n\t\t\t\t\t$(\"<option></option>\")\r\n\t\t\t\t\t\t.attr(\"value\", game.id)\r\n\t\t\t\t\t\t.text(game.commence_time.split(\"T\", 1)[0] + ': ' + game.home_team + ' - ' + game.away_team)\r\n\t\t\t\t)\r\n\t\t\t});\r\n\t\t} );\r\n\r\n\t\t$('#bookmakers-table-body').empty()\r\n\t});\r\n\r\n\t$('#game_id').on('change', function() {\r\n\t\t$('#empty-game-option').remove()\r\n\t\tconst gameId = $('#game_id').val()\r\n\t\tconst game = data.all_odds[gameId]\r\n\t\tconst bookmakers = game.bookmakers.map(b => b.key)\r\n\r\n\t\tconst bookmakersTableBody = $('#bookmakers-table-body')\r\n\t\tbookmakersTableBody.empty()\r\n\t\t$.each(game.bookmakers, function(key,bookmaker) {\r\n\t\t\tconst column1 = $('<td></td>')\r\n\t\t\tcolumn1.append(\r\n\t\t\t\t$('<input/>').attr({\r\n\t\t\t\t\ttype: 'checkbox',\r\n\t\t\t\t\tname: `bookmakers[${bookmaker.key}]`,\r\n\t\t\t\t\tid: `bookmakers[${bookmaker.key}]`,\r\n\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\tchecked: data.current_bookmakers.includes(bookmaker.key)\r\n\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\tconst column2 = $('<td></td>')\r\n\t\t\tcolumn2.append($(`<label for=\"bookmakers[${bookmaker.key}]\">${bookmaker.title}</label>`))\r\n\r\n\t\t\tconst column3 = $('<td></td>')\r\n\t\t\tcolumn3.append(\r\n\t\t\t\t$('<input/>').attr({\r\n\t\t\t\t\ttype: 'url',\r\n\t\t\t\t\tname: `bookmakers_url[${bookmaker.key}]`,\r\n\t\t\t\t\tid: `bookmakers_url[${bookmaker.key}]`,\r\n\t\t\t\t\tvalue: data.bookmakers_url_settings[bookmaker.key] ?? '',\r\n\t\t\t\t\tautoComplete: \"off\",\r\n\t\t\t\t\tplaceholder: wp.i18n.__('Set partner link', 'odds-widget'),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\tconst row = $('<tr></tr>')\r\n\t\t\trow.append(column1)\r\n\t\t\trow.append(column2)\r\n\t\t\trow.append(column3)\r\n\t\t\tbookmakersTableBody.append(row)\r\n\t\t});\r\n\t});\r\n})(jQuery);\r\n\r\nfunction refreshBookmakersTable(sport) {\r\n\t$('#bookmakers-table-body').append('<p>Azaza</p>')\r\n}\r\n\r\n"],"names":["$","on","remove","group","find","text","newSports","data","all_sports","filter","s","sportElement","empty","prop","append","each","key","sport","attr","title","gameElement","sportKey","val","description","newGames","wp","apiFetch","path","url","addQueryArgs","then","all_odds","reduce","acc","curr","id","game","commence_time","split","home_team","away_team","gameId","bookmakers","map","b","bookmakersTableBody","bookmaker","_data$bookmakers_url_","column1","type","name","concat","value","checked","current_bookmakers","includes","column2","column3","bookmakers_url_settings","autoComplete","placeholder","i18n","__","row","jQuery","refreshBookmakersTable"],"sourceRoot":""}